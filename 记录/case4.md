Constrained multi-objective optimization of short-term crude oil scheduling with dual pipelines and charging tank maintenance requirement

# note

- 修改state中蒸馏塔完成率存在bug
- 加入常量Refine_Task_Period=372
- 加入最大停运次数Max_shutdown_count=3
- 加入动作有效性判断（HS and shutdown)
- 修改ODH or ODL 中转运体积的计算
- 对于5个rate_type：
  - 非动态流速：考虑CAP,VFP,VRT,VSA
  - 动态流速：考虑CAP,VFP,VSA 得到本次管道的转运体积后，进入Cal_dyna_rate函数计算rate
    - 若rate超出边界值，则对volume进行修改，函数返回rate and volume
- 对log_tank油罐日志进行修改
  - 原因：存在两条不同步的管道
- 修改充油&炼油逻辑
  - 充油：充油完成将油罐分配给相应的蒸馏塔
  - 炼油：到达时间后，将油罐分配位置零
  - 说明：油罐的分配位相当于一把锁，充油时上锁，炼油完毕解锁。



# case4

dual pipelines and charging tank maintenance requirement

```python
# TKi=[编号，类型，容量，存量,Initial Assign]
self.TK = [
[1 , 0, 20000, 0    ,0]
,[2 , 1, 34000, 16000,2]
,[3 , 2, 34000, 26000,2]
,[4 , 0, 25000, 0    ,0]
,[5 , 3, 30000, 25000,1]
,[6 , 5, 34000, 15000,3]
,[7 , 4, 20000, 17000,3]
,[8 , 6, 30000, 25000,3]
,[9 , 7, 34000, 22000,4]
,[10, 8, 34000, 19000,4]
,[11, 0, 20000, 0    ,0]
]
# RT=[编号，炼油类型1，炼油量1,炼油类型2，炼油量2]
self.RT = [
[1, 3, 25000, 4, 24000, 8, 44055],
[2, 1, 16000, 2, 26008, 11, 82300],
[3, 5, 15000, 4, 17000, 6, 18000, 10, 43055],
[4, 7, 22000, 8, 103000, 9, 107638]
]
#罐日志，数组下标+1=罐编号，元素为[chargeTime,refineTime,[oilType,refineVolume]]
self.log_tank = [[0, 0] for _ in range(len(self.TK))]
#常量
self.Refine_Task_Period=372
self.RESIDENCE_TIME = 4
self.Charging_Tank_Switch_Overlap_Time=0
self.High_Fusion_Point_Type=11
self.High_Fusion_Point_distiller=2
self.F_SDU = [250, 334, 250, 625]
self.Count_Pipelines=2
self.Pipe_Velocity_List=[[800, 1100, 1250], [420, 500, 625]]
self.Max_shutdown_count=3
self.Mt = [
[0 , 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],
[11, 0 , 13, 14, 15, 16, 17, 18, 19, 20, 21],
[12, 13, 0 , 15, 16, 17, 18, 19, 20, 21, 22],
[13, 14, 15, 0 , 17, 18, 19, 20, 21, 22, 23],
[14, 15, 16, 17, 0 , 19, 20, 21, 22, 23, 24],
[15, 16, 17, 18, 19, 0 , 21, 22, 23, 24, 25],
[16, 17, 18, 19, 20, 21, 0 , 23, 24, 25, 26],
[17, 18, 19, 20, 21, 22, 23, 0 , 25, 26, 27],
[18, 19, 20, 21, 22, 23, 24, 25, 0 , 27, 28],
[19, 20, 21, 22, 23, 24, 25, 26, 27, 0 , 29],
[20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 0 ],
]
self.Mt_mean=np.mean(np.array(self.Mt))

self.Mp = [
[0 , 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],
[11, 0 , 13, 14, 15, 16, 17, 18, 19, 20, 21],
[12, 13, 0 , 15, 16, 17, 18, 19, 20, 21, 22],
[13, 14, 15, 0 , 17, 18, 19, 20, 21, 22, 23],
[14, 15, 16, 17, 0 , 19, 20, 21, 22, 23, 24],
[15, 16, 17, 18, 19, 0 , 21, 22, 23, 24, 25],
[16, 17, 18, 19, 20, 21, 0 , 23, 24, 25, 26],
[17, 18, 19, 20, 21, 22, 23, 0 , 25, 26, 27],
[18, 19, 20, 21, 22, 23, 24, 25, 0 , 27, 28],
[19, 20, 21, 22, 23, 24, 25, 26, 27, 0 , 29],
[20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 0 ],
]
```

